<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EarnZone - ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶®</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Ad Networks SDK -->
    <script src='//libtl.com/sdk.js' data-zone='9797628' data-sdk='show_9797628'></script>
    <script src="https://ad.gigapub.tech/script?id=2868"></script>
    <script src="https://cdn.tgads.space/assets/js/adexium-widget.min.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Hind Siliguri', sans-serif;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
            padding-bottom: 70px;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
        }
        
        .btn-gradient {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            transition: all 0.3s ease;
        }
        
        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .task-card {
            transition: all 0.3s ease;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .task-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        
        .floating-btn {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .pulse-effect {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding: 10px 0;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .nav-item {
            transition: all 0.3s ease;
        }
        
        .nav-item.active {
            color: #667eea;
            transform: translateY(-5px);
        }
        
        .nav-item.active i {
            color: #667eea;
        }
        
        .typewriter {
            overflow: hidden;
            white-space: nowrap;
            animation: typing 3.5s steps(40, end);
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        .shine-effect {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            background-size: 200% 100%;
            animation: shine 2s infinite;
        }
        
        @keyframes shine {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 pb-20">
    <!-- ‡¶≤‡¶ó‡¶á‡¶®/‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ -->
    <div id="authContainer" class="glass-effect p-8 rounded-3xl shadow-2xl w-full max-w-md">
        <!-- ‡¶≤‡ßã‡¶ó‡ßã ‡¶è‡¶¨‡¶Ç ‡¶π‡ßá‡¶°‡¶ø‡¶Ç -->
        <div class="text-center mb-8">
            <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 pulse-effect">
                <i class="fas fa-coins text-3xl text-yellow-500"></i>
            </div>
            <h1 class="text-3xl font-bold text-white mb-2 typewriter">Earn<span class="text-yellow-400">Zone</span></h1>
            <p class="text-gray-200">‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶â‡¶§‡ßç‡¶§‡ßã‡¶≤‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</p>
        </div>

        <!-- ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶∏‡ßÅ‡¶á‡¶ö ‡¶¨‡¶æ‡¶ü‡¶® -->
        <div class="flex bg-white bg-opacity-20 rounded-xl p-1 mb-6">
            <button id="loginTab" class="flex-1 py-2 rounded-xl font-semibold text-white bg-blue-500">‡¶≤‡¶ó‡¶á‡¶®</button>
            <button id="registerTab" class="flex-1 py-2 rounded-xl font-semibold text-gray-300">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞</button>
        </div>

        <!-- ‡¶≤‡¶ó‡¶á‡¶® ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="loginForm" class="space-y-4">
            <div>
                <input type="email" id="loginEmail" placeholder="üìß ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤" 
                       class="w-full p-4 rounded-xl bg-white bg-opacity-20 text-white placeholder-gray-200 border-none">
            </div>
            <div>
                <input type="password" id="loginPassword" placeholder="üîí ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°" 
                       class="w-full p-4 rounded-xl bg-white bg-opacity-20 text-white placeholder-gray-200 border-none">
            </div>
            <button onclick="handleEmailLogin()" class="w-full btn-gradient text-white py-4 rounded-xl font-semibold text-lg">
                <i class="fas fa-sign-in-alt mr-2"></i>‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>

            <!-- Google ‡¶≤‡¶ó‡¶á‡¶® -->
            <div class="relative my-6">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-gray-300 border-opacity-50"></div>
                </div>
                <div class="relative flex justify-center text-sm">
                    <span class="px-2 bg-transparent text-gray-200">‡¶Ö‡¶•‡¶¨‡¶æ</span>
                </div>
            </div>

            <button onclick="handleGoogleLogin()" class="w-full bg-white text-gray-700 py-4 rounded-xl font-semibold text-lg">
                <i class="fab fa-google mr-2 text-red-500"></i>Google ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶≤‡¶ó‡¶á‡¶®
            </button>
        </div>

        <!-- ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ -->
        <div id="registerForm" class="space-y-4 hidden">
            <div>
                <input type="email" id="registerEmail" placeholder="üìß ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ" 
                       class="w-full p-4 rounded-xl bg-white bg-opacity-20 text-white placeholder-gray-200 border-none">
            </div>
            <div>
                <input type="password" id="registerPassword" placeholder="üîí ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° (Ëá≥Â∞ë ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞)" 
                       class="w-full p-4 rounded-xl bg-white bg-opacity-20 text-white placeholder-gray-200 border-none">
            </div>
            <div>
                <input type="password" id="confirmPassword" placeholder="‚úÖ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®" 
                       class="w-full p-4 rounded-xl bg-white bg-opacity-20 text-white placeholder-gray-200 border-none">
            </div>
            <button onclick="handleRegister()" class="w-full btn-gradient text-white py-4 rounded-xl font-semibold text-lg">
                <i class="fas fa-user-plus mr-2"></i>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>

            <p class="text-center text-gray-200 text-sm mt-4">
                ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá <span class="text-yellow-400 font-semibold">‡ßß‡ß¶‡ß¶ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡ßã‡¶®‡¶æ‡¶∏</span> ‡¶™‡¶æ‡¶¨‡ßá‡¶®!
            </p>
        </div>

        <!-- Error Message -->
        <div id="errorMessage" class="mt-4 p-3 bg-red-500 text-white rounded-xl text-center hidden"></div>
    </div>

    <!-- ‡¶Æ‡ßá‡¶á‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü -->
    <div id="appContent" class="hidden w-full max-w-4xl">
        <!-- ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
        <div class="glass-effect rounded-2xl p-6 mb-6 text-center">
            <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-user text-2xl text-white"></i>
            </div>
            <h2 class="text-white font-semibold text-xl mb-1" id="userName">‡¶á‡¶â‡¶ú‡¶æ‡¶∞</h2>
            <p class="text-gray-200 text-sm mb-3">‡¶Ü‡¶á‡¶°‡¶ø: <span id="userId">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span></p>
            
            <!-- ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø -->
            <div class="grid grid-cols-2 gap-3 mt-4">
                <div class="bg-white bg-opacity-10 rounded-xl p-3">
                    <p class="text-gray-200 text-xs">‡¶Æ‡ßã‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</p>
                    <p class="text-white font-semibold text-lg" id="userBalance">‡ß¶ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü</p>
                </div>
                <div class="bg-white bg-opacity-10 rounded-xl p-3">
                    <p class="text-gray-200 text-xs">‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ</p>
                    <p class="text-white font-semibold text-lg" id="todayEarnings">‡ß¶ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü</p>
                </div>
                <div class="bg-white bg-opacity-10 rounded-xl p-3">
                    <p class="text-gray-200 text-xs">‡¶ï‡¶Æ‡¶™‡ßç‡¶≤‡¶ø‡¶ü ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</p>
                    <p class="text-white font-semibold text-lg" id="completedTasks">‡ß¶ ‡¶ü‡¶ø</p>
                </div>
                <div class="bg-white bg-opacity-10 rounded-xl p-3">
                    <p class="text-gray-200 text-xs">‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤</p>
                    <p class="text-white font-semibold text-lg" id="totalReferrals">‡ß¶ ‡¶ú‡¶®</p>
                </div>
            </div>
        </div>

        <!-- ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶¨‡¶æ‡¶∞ -->
        <div class="glass-effect rounded-2xl p-3 mb-6 shine-effect">
            <div class="flex items-center">
                <i class="fas fa-bullhorn text-yellow-400 mr-3"></i>
                <marquee behavior="scroll" direction="left" class="text-white text-sm" id="noticeBar">
                    <!-- ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶¨‡ßá -->
                </marquee>
            </div>
        </div>

        <!-- ‡¶°‡ßá‡¶á‡¶≤‡¶ø ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ -->
        <div class="glass-effect rounded-2xl p-6 mb-6 text-center">
            <h3 class="text-white font-semibold mb-3">üéÅ ‡¶°‡ßá‡¶á‡¶≤‡¶ø ‡¶¨‡ßã‡¶®‡¶æ‡¶∏</h3>
            <p class="text-gray-200 text-sm mb-4">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶¶‡ßá‡¶ñ‡ßá ‡¶°‡ßá‡¶á‡¶≤‡¶ø ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶®‡¶ø‡¶®</p>
            <button class="w-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white py-3 rounded-xl font-semibold pulse-effect">
                <span id="bonusAmount">‡ß´‡ß¶</span> ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶®
            </button>
        </div>

        <!-- ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
        <div class="glass-effect rounded-2xl p-6 mb-20">
            <h3 class="text-white font-semibold mb-4 text-center">üìã ‡¶â‡¶™‡¶≤‡¶¨‡ßç‡¶ß ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</h3>
            <div class="space-y-4" id="tasksList">
                <div class="task-card glass-effect p-4 text-center">
                    <p class="text-gray-200">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</p>
                </div>
            </div>
        </div>

        <!-- ‡¶¨‡¶ü‡¶Æ ‡¶®‡ßá‡¶≠‡¶ø‡¶ó‡ßá‡¶∂‡¶® -->
        <div class="bottom-nav">
            <div class="flex justify-around items-center">
                <div class="nav-item active text-center" data-tab="home">
                    <i class="fas fa-home text-xl text-blue-500"></i>
                    <p class="text-xs mt-1 text-blue-500">‡¶π‡ßã‡¶Æ</p>
                </div>
                <div class="nav-item text-center" data-tab="tasks">
                    <i class="fas fa-tasks text-xl text-gray-500"></i>
                    <p class="text-xs mt-1 text-gray-500">‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</p>
                </div>
                <div class="nav-item text-center" data-tab="referral">
                    <i class="fas fa-users text-xl text-gray-500"></i>
                    <p class="text-xs mt-1 text-gray-500">‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤</p>
                </div>
                <div class="nav-item text-center" data-tab="withdraw">
                    <i class="fas fa-wallet text-xl text-gray-500"></i>
                    <p class="text-xs mt-1 text-gray-500">‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞</p>
                </div>
            </div>
        </div>

        <!-- ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü -->
        <div class="tab-content-container">
            <!-- ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
            <div id="referralTab" class="glass-effect rounded-2xl p-6 mb-20 hidden">
                <h3 class="text-white font-semibold mb-4 text-center">üë• ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</h3>
                <p class="text-gray-200 text-sm mb-4 text-center">‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶ï‡ßá ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡ßß‡ß¶‡ß¶ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶æ‡¶®</p>
                
                <div class="bg-white bg-opacity-10 rounded-xl p-4 mb-4">
                    <p class="text-gray-200 text-sm mb-2 text-center">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ø‡¶Ç‡¶ï</p>
                    <div class="flex">
                        <input type="text" class="flex-1 bg-white bg-opacity-20 text-white p-2 rounded-l-lg text-center" 
                               value="‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá..." readonly id="referralLink">
                        <button class="bg-blue-500 text-white px-4 rounded-r-lg" id="copyReferralBtn">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-3 gap-3 mb-4">
                    <div class="bg-white bg-opacity-10 rounded-xl p-3 text-center">
                        <p class="text-2xl font-bold text-white" id="totalReferralsTab">‡ß¶</p>
                        <p class="text-gray-200 text-xs">‡¶Æ‡ßã‡¶ü ‡¶∞‡ßá‡¶´‡¶æ‡¶∞</p>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-xl p-3 text-center">
                        <p class="text-2xl font-bold text-white" id="activeReferrals">‡ß¶</p>
                        <p class="text-gray-200 text-xs">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠</p>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-xl p-3 text-center">
                        <p class="text-2xl font-bold text-white" id="referralPoints">‡ß¶</p>
                        <p class="text-gray-200 text-xs">‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü</p>
                    </div>
                </div>

                <button class="w-full bg-green-500 text-white py-3 rounded-xl font-semibold" onclick="shareOnTelegram()">
                    <i class="fab fa-telegram-plane mr-2"></i>‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
            </div>

            <!-- ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
            <div id="withdrawTab" class="glass-effect rounded-2xl p-6 mb-20 hidden">
                <h3 class="text-white font-semibold mb-4 text-center">üí∏ ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü</h3>
                
                <div class="mb-4">
                    <label class="block text-gray-200 text-sm mb-2">‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</label>
                    <input type="number" class="w-full p-3 rounded-xl bg-white bg-opacity-20 text-white text-center" 
                           placeholder="‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" id="withdrawAmount">
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-200 text-sm mb-2 text-center">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶°</label>
                    <div class="grid grid-cols-2 gap-3" id="paymentMethods">
                        <div class="text-center">
                            <p class="text-gray-200 text-sm">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶°</p>
                            <p class="text-white text-xs">‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                        </div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-200 text-sm mb-2">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</label>
                    <input type="text" class="w-full p-3 rounded-xl bg-white bg-opacity-20 text-white text-center" 
                           placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" id="accountNumber">
                </div>
                
                <button class="w-full bg-green-500 text-white py-3 rounded-xl font-semibold" id="withdrawBtn">
                    ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
                </button>
                
                <div class="mt-4 bg-white bg-opacity-10 rounded-xl p-3">
                    <p class="text-gray-200 text-sm text-center"><i class="fas fa-info-circle mr-2"></i>‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶Æ‡ßá‡¶•‡¶° ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== FIREBASE CONFIGURATION ====================
        const firebaseConfig = {
            apiKey: "AIzaSyCRnFOockStuQ6z3AU2dQ9fzZ6Tt_bUDL4",
            authDomain: "earn-zone-a6dce.firebaseapp.com",
            databaseURL: "https://earn-zone-a6dce-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "earn-zone-a6dce",
            storageBucket: "earn-zone-a6dce.firebasestorage.app",
            messagingSenderId: "470563695372",
            appId: "1:470563695372:web:323d2941c316cef0a4b729"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Global Variables
        let currentUser = null;

        // ==================== AUTHENTICATION FUNCTIONS ====================
        
        async function handleGoogleLogin() {
            try {
                showLoading('Google ‡¶≤‡¶ó‡¶á‡¶® ‡¶π‡¶ö‡ßç‡¶õ‡ßá...');
                const provider = new firebase.auth.GoogleAuthProvider();
                const result = await auth.signInWithPopup(provider);
                await processUserData(result.user, true);
                hideAuthForm();
            } catch (error) {
                showError('Google ‡¶≤‡¶ó‡¶á‡¶® Error: ' + error.message);
            }
        }

        async function handleEmailLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                showError('‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®');
                return;
            }

            try {
                showLoading('‡¶≤‡¶ó‡¶á‡¶® ‡¶π‡¶ö‡ßç‡¶õ‡ßá...');
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                await processUserData(userCredential.user);
                hideAuthForm();
            } catch (error) {
                handleAuthError(error);
            }
        }

        async function handleRegister() {
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (!email || !password || !confirmPassword) {
                showError('‡¶∏‡¶¨ fields ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®');
                return;
            }

            if (password !== confirmPassword) {
                showError('‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° match ‡¶ï‡¶∞‡¶õ‡ßá ‡¶®‡¶æ');
                return;
            }

            if (password.length < 6) {
                showError('‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°Ëá≥Â∞ë ‡ß¨ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá');
                return;
            }

            try {
                showLoading('‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...');
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                await processUserData(userCredential.user, true);
                hideAuthForm();
                showNotification('üéâ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶´‡¶≤! ‡ßß‡ß¶‡ß¶ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡ßá‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡¶®!');
            } catch (error) {
                handleAuthError(error);
            }
        }

        // ==================== USER DATA PROCESSING ====================
        async function processUserData(user, isNewUser = false) {
            try {
                const userRef = db.collection('users').doc(user.uid);
                const userDoc = await userRef.get();
                
                if (!userDoc.exists) {
                    await userRef.set({
                        email: user.email,
                        points: 100,
                        todayEarnings: 0,
                        completedTasks: 0,
                        totalEarnings: 0,
                        totalWithdrawn: 0,
                        totalReferrals: 0,
                        activeReferrals: 0,
                        referralPoints: 0,
                        referralCode: generateReferralCode(),
                        createdAt: new Date(),
                        lastSeen: new Date(),
                        banned: false
                    });
                } else {
                    await userRef.update({
                        last_seen: new Date()
                    });
                }
                
                currentUser = user;
                loadUserData();
                return true;
            } catch (error) {
                console.error('User data processing error:', error);
                return false;
            }
        }

        // ==================== USER DATA LOADING ====================
        async function loadUserData() {
            if (!currentUser) return;
            
            try {
                const userDoc = await db.collection('users').doc(currentUser.uid).get();
                if (userDoc.exists) {
                    const userData = userDoc.data();
                    
                    // Update UI
                    document.getElementById('userName').textContent = userData.email || '‡¶á‡¶â‡¶ú‡¶æ‡¶∞';
                    document.getElementById('userId').textContent = currentUser.uid.substring(0, 8);
                    document.getElementById('userBalance').textContent = `${userData.points || 0} ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü`;
                    document.getElementById('todayEarnings').textContent = `${userData.todayEarnings || 0} ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü`;
                    document.getElementById('completedTasks').textContent = `${userData.completedTasks || 0} ‡¶ü‡¶ø`;
                    document.getElementById('totalReferrals').textContent = `${userData.totalReferrals || 0} ‡¶ú‡¶®`;
                    document.getElementById('totalReferralsTab').textContent = userData.totalReferrals || 0;
                    
                    if (userData.referralCode) {
                        document.getElementById('referralLink').value = `https://t.me/earn_zone_user_bot?start=${userData.referralCode}`;
                    }
                    
                    loadNotice();
                    loadTasks();
                }
            } catch (error) {
                console.error("‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ:", error);
            }
        }

        // ==================== NOTICE SYSTEM ====================
        async function loadNotice() {
            try {
                const noticeDoc = await db.collection('adminSettings').doc('notices').get();
                if (noticeDoc.exists) {
                    const noticeData = noticeDoc.data();
                    if (noticeData.currentNotice) {
                        document.getElementById('noticeBar').innerHTML = noticeData.currentNotice;
                    }
                }
            } catch (error) {
                console.error("‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ:", error);
            }
        }

        // ==================== TASK SYSTEM ====================
        async function loadTasks() {
            try {
                const tasksSnapshot = await db.collection('tasks').where('enabled', '==', true).get();
                const tasksList = document.getElementById('tasksList');
                tasksList.innerHTML = '';
                
                if (tasksSnapshot.empty) {
                    tasksList.innerHTML = `
                        <div class="task-card glass-effect p-4 text-center">
                            <p class="text-gray-200">‡¶ï‡ßã‡¶® ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</p>
                            <p class="text-gray-400 text-sm mt-2">‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®</p>
                        </div>
                    `;
                    return;
                }
                
                tasksSnapshot.forEach(doc => {
                    const task = doc.data();
                    const taskElement = document.createElement('div');
                    taskElement.className = 'task-card glass-effect p-4';
                    taskElement.innerHTML = `
                        <div class="flex justify-between items-start mb-3">
                            <h4 class="text-white font-semibold">${task.title}</h4>
                            <span class="bg-green-500 text-white px-2 py-1 rounded-lg text-sm">${task.points} ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü</span>
                        </div>
                        <p class="text-gray-200 text-sm mb-3">${task.description || '‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®'}</p>
                        <p class="text-gray-400 text-xs mb-2">‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï: ${task.network || 'N/A'}</p>
                        <button class="w-full bg-blue-500 text-white py-2 rounded-lg" onclick="startTask('${doc.id}')">
                            ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
                        </button>
                    `;
                    tasksList.appendChild(taskElement);
                });
            } catch (error) {
                console.error("‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ:", error);
            }
        }

        async function startTask(taskId) {
            try {
                const taskDoc = await db.collection('tasks').doc(taskId).get();
                if (taskDoc.exists) {
                    const task = taskDoc.data();
                    showNotification(`‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá: ${task.title}`);
                    
                    // Show ad based on network
                    await showAd(task.network);
                    
                    // Complete task and add points
                    await completeTask(taskId, task);
                }
            } catch (error) {
                console.error('Task error:', error);
                showError('‡¶ü‡¶æ‡¶∏‡ßç‡¶ï ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá');
            }
        }

        async function showAd(network) {
            // Ad showing logic based on network
            return new Promise(resolve => {
                setTimeout(resolve, 2000); // Simulate ad loading
            });
        }

        async function completeTask(taskId, taskData) {
            try {
                const userRef = db.collection('users').doc(currentUser.uid);
                await userRef.update({
                    points: firebase.firestore.FieldValue.increment(taskData.points),
                    todayEarnings: firebase.firestore.FieldValue.increment(taskData.points),
                    completedTasks: firebase.firestore.FieldValue.increment(1)
                });
                
                showNotification(`üéâ ${taskData.points} ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßá‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡¶®!`);
                loadUserData();
            } catch (error) {
                console.error('Complete task error:', error);
            }
        }

        // ==================== UTILITY FUNCTIONS ====================
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.classList.remove('hidden');
            setTimeout(() => errorDiv.classList.add('hidden'), 5000);
        }

        function showLoading(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.classList.remove('hidden');
            errorDiv.style.background = '#4299e1';
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification glass-effect p-4';
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-check-circle text-green-400 mr-2"></i>
                    <span class="text-white">${message}</span>
                </div>
            `;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        function hideAuthForm() {
            document.getElementById('authContainer').classList.add('hidden');
            document.getElementById('appContent').classList.remove('hidden');
        }

        function generateReferralCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            for (let i = 0; i < 6; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        function handleAuthError(error) {
            switch(error.code) {
                case 'auth/user-not-found':
                    showError('‡¶è‡¶á ‡¶á‡¶Æ‡ßá‡¶á‡¶≤‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡ßá‡¶á‡•§ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
                    break;
                case 'auth/wrong-password':
                    showError('‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°');
                    break;
                case 'auth/email-already-in-use':
                    showError('‡¶è‡¶á ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ already registered');
                    break;
                default:
                    showError('Error: ' + error.message);
            }
        }

        function shareOnTelegram() {
            const referralLink = document.getElementById('referralLink').value;
            const message = `üéØ EarnZone ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶Ö‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®! ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ø‡¶Ç‡¶ï: ${referralLink}`;
            window.open(`https://t.me/share/url?url=${encodeURIComponent(referralLink)}&text=${encodeURIComponent(message)}`, '_blank');
        }

        // ==================== EVENT LISTENERS ====================
        document.getElementById('loginTab').addEventListener('click', () => {
            document.getElementById('loginForm').classList.remove('hidden');
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('loginTab').classList.add('bg-blue-500', 'text-white');
            document.getElementById('registerTab').classList.remove('bg-blue-500', 'text-white');
        });

        document.getElementById('registerTab').addEventListener('click', () => {
            document.getElementById('registerForm').classList.remove('hidden');
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerTab').classList.add('bg-blue-500', 'text-white');
            document.getElementById('loginTab').classList.remove('bg-blue-500', 'text-white');
        });

        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                const tab = this.getAttribute('data-tab');
                
                // Update active nav
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                    nav.querySelector('i').classList.remove('text-blue-500');
                    nav.querySelector('p').classList.remove('text-blue-500');
                });
                
                this.classList.add('active');
                this.querySelector('i').classList.add('text-blue-500');
                this.querySelector('p').classList.add('text-blue-500');
                
                // Show corresponding tab content
                document.querySelectorAll('.tab-content-container > div').forEach(content => {
                    content.classList.add('hidden');
                });
                
                if (tab === 'referral' || tab === 'withdraw') {
                    document.getElementById(tab + 'Tab').classList.remove('hidden');
                }
            });
        });

        document.getElementById('copyReferralBtn').addEventListener('click', function() {
            const referralInput = document.getElementById('referralLink');
            referralInput.select();
            document.execCommand('copy');
            showNotification('‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!');
        });

        document.getElementById('withdrawBtn').addEventListener('click', function() {
            const amount = document.getElementById('withdrawAmount').value;
            const account = document.getElementById('accountNumber').value;
            
            if (!amount || amount < 500) {
                showError('‡¶®‡ßç‡¶Ø‡ßÇ‡¶®‡¶§‡¶Æ ‡ß´‡ß¶‡ß¶ ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá');
                return;
            }
            
            if (!account) {
                showError('‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®');
                return;
            }
            
            showNotification(`‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ${amount} ‡¶™‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶ü ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá`);
        });

        // ==================== INITIALIZE APP ====================
        auth.onAuthStateChanged(user => {
            if (user) {
                currentUser = user;
                hideAuthForm();
                loadUserData();
            }
        });

        console.log("EarnZone ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá...");
    </script>
</body>
</html>
